{"ast":null,"code":"const Config = require('../database/models/GlobalConfig');\n\nconst Product = require('../database/models/Product');\n\nrunSetup = (_parent, _args, _context) => {\n  // Creation of collection and documents\n  // const newConfig = new Config({ shipping: 4.25, price: 7 });\n  const newConfig = new Config({\n    businessName: 'Ice Cream Shop',\n    fullName: 'Michael Camacho'\n  });\n  newConfig.save();\n  return {\n    success: _args.success\n  };\n};\n\naddProduct = async (_parent, _args, _context) => {\n  try {\n    // const response = await Product.create(_args);\n    console.log(_args);\n    return _args;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nupdatePrice = async (_parent, _args, _context) => {\n  try {\n    const {\n      _id: id,\n      price\n    } = await Config.findOneAndUpdate({\n      _id: '5e815e862e2e6a0bfbf96f1d'\n    }, {\n      price: _args.price\n    }, {\n      new: true\n    });\n    return {\n      id,\n      price\n    };\n  } catch (error) {\n    return error;\n  }\n};\n\nmodule.exports = {\n  runSetup,\n  addProduct,\n  updatePrice\n};","map":{"version":3,"sources":["/Applications/MAMP/htdocs/Development/Nextjs/landing-page-prodcut-001/server/resolvers/Mutation.js"],"names":["Config","require","Product","runSetup","_parent","_args","_context","newConfig","businessName","fullName","save","success","addProduct","console","log","error","updatePrice","_id","id","price","findOneAndUpdate","new","module","exports"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,iCAAD,CAAtB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,4BAAD,CAAvB;;AAEAE,QAAQ,GAAG,CAACC,OAAD,EAAUC,KAAV,EAAiBC,QAAjB,KAA8B;AACvC;AACA;AAEA,QAAMC,SAAS,GAAG,IAAIP,MAAJ,CAAW;AAC3BQ,IAAAA,YAAY,EAAE,gBADa;AAE3BC,IAAAA,QAAQ,EAAE;AAFiB,GAAX,CAAlB;AAKAF,EAAAA,SAAS,CAACG,IAAV;AAEA,SAAO;AAAEC,IAAAA,OAAO,EAAEN,KAAK,CAACM;AAAjB,GAAP;AACD,CAZD;;AAcAC,UAAU,GAAG,OAAOR,OAAP,EAAgBC,KAAhB,EAAuBC,QAAvB,KAAoC;AAC/C,MAAI;AACF;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAYT,KAAZ;AAEA,WAAOA,KAAP;AACD,GALD,CAKE,OAAOU,KAAP,EAAc;AACdF,IAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD;AACF,CATD;;AAWAC,WAAW,GAAG,OAAOZ,OAAP,EAAgBC,KAAhB,EAAuBC,QAAvB,KAAoC;AAChD,MAAI;AACF,UAAM;AAAEW,MAAAA,GAAG,EAAEC,EAAP;AAAWC,MAAAA;AAAX,QAAqB,MAAMnB,MAAM,CAACoB,gBAAP,CAC/B;AAAEH,MAAAA,GAAG,EAAE;AAAP,KAD+B,EAE/B;AAAEE,MAAAA,KAAK,EAAEd,KAAK,CAACc;AAAf,KAF+B,EAG/B;AAAEE,MAAAA,GAAG,EAAE;AAAP,KAH+B,CAAjC;AAMA,WAAO;AAAEH,MAAAA,EAAF;AAAMC,MAAAA;AAAN,KAAP;AACD,GARD,CAQE,OAAOJ,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CAZD;;AAcAO,MAAM,CAACC,OAAP,GAAiB;AACfpB,EAAAA,QADe;AAEfS,EAAAA,UAFe;AAGfI,EAAAA;AAHe,CAAjB","sourcesContent":["const Config = require('../database/models/GlobalConfig');\nconst Product = require('../database/models/Product');\n\nrunSetup = (_parent, _args, _context) => {\n  // Creation of collection and documents\n  // const newConfig = new Config({ shipping: 4.25, price: 7 });\n\n  const newConfig = new Config({\n    businessName: 'Ice Cream Shop',\n    fullName: 'Michael Camacho',\n  });\n\n  newConfig.save();\n\n  return { success: _args.success };\n};\n\naddProduct = async (_parent, _args, _context) => {\n  try {\n    // const response = await Product.create(_args);\n    console.log(_args);\n\n    return _args;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nupdatePrice = async (_parent, _args, _context) => {\n  try {\n    const { _id: id, price } = await Config.findOneAndUpdate(\n      { _id: '5e815e862e2e6a0bfbf96f1d' },\n      { price: _args.price },\n      { new: true }\n    );\n\n    return { id, price };\n  } catch (error) {\n    return error;\n  }\n};\n\nmodule.exports = {\n  runSetup,\n  addProduct,\n  updatePrice,\n};\n"]},"metadata":{},"sourceType":"script"}